# 🚀 نظام إدارة المستخدمين Laravel + Back4App

نظام إدارة شامل ومتقدم للمستخدمين باستخدام Laravel كخلفية (Backend) و Back4App كقاعدة بيانات سحابية، مع واجهة إدارية احترافية ومتجاوبة.

## ✨ الميزات الرئيسية

### 🔐 نظام المصادقة
- **تسجيل دخول آمن** باستخدام Back4App
- **التحقق من الأدوار** (Admin/User)
- **جلسات محمية** مع Laravel Auth
- **تشفير كلمات المرور** عبر Back4App

### 👥 إدارة المستخدمين
- **عرض قائمة شاملة** للمستخدمين مع ترقيم ذكي
- **بحث متقدم** في اسم المستخدم والبريد والاسم الكامل
- **فلترة متطورة** حسب الجنس والدور وحالة VIP والبلد
- **عرض تفاصيل كاملة** لكل مستخدم مع ملفه الشخصي
- **إضافة مستخدمين جدد** مع رفع الصور
- **تعديل البيانات** مع معاينة الصور قبل الرفع
- **حذف/استعادة المستخدمين** (Soft Delete)

### 📊 الإحصائيات والتقارير
- **لوحة إحصائيات شاملة** مع رسوم بيانية تفاعلية
- **رسوم بيانية متنوعة**: خطية، دائرية، أعمدة، منطقة
- **إحصائيات مفصلة**:
  - إجمالي المستخدمين والنشطين
  - توزيع الجنس والأعمار
  - أنواع VIP ونسبها
  - أكثر البلدان نشاطاً
  - الإحصائيات المالية (عملات، ماس، نقاط)
- **تصدير الإحصائيات** إلى CSV

### ⚡ العمليات المجمعة (Bulk Actions)
- **إرسال إشعارات جماعية** مع أنواع مختلفة
- **تحديث حالة VIP** للمجموعات
- **إضافة عملات وماس** بكميات محددة
- **تغيير أدوار المستخدمين** (Admin/User)
- **إخفاء/إظهار الحسابات** المجمع
- **تأكيد الصور** للمجموعات
- **تصدير البيانات** بصيغ متعددة (CSV, Excel, JSON)

### 🎨 واجهة المستخدم
- **تصميم متجاوب 100%** يعمل على جميع الأجهزة
- **دعم كامل للغة العربية** مع RTL
- **ألوان متدرجة وجميلة** مع تأثيرات بصرية
- **أيقونات Font Awesome** معبرة
- **رسوم متحركة** وتأثيرات hover
- **واجهة سهلة الاستخدام** مع تنقل منطقي

## 🛠️ التقنيات المستخدمة

### Backend:
- **Laravel 11.x** - إطار العمل الرئيسي
- **Parse PHP SDK** - للاتصال مع Back4App
- **PHP 8.1+** - لغة البرمجة
- **Composer** - إدارة الحزم

### Frontend:
- **Bootstrap 5.3** - إطار العمل للتصميم
- **Chart.js** - للرسوم البيانية التفاعلية
- **Font Awesome** - للأيقونات
- **JavaScript ES6+** - للتفاعل
- **CSS3** - للتصميم المتقدم

### قاعدة البيانات:
- **Back4App** - قاعدة بيانات سحابية
- **Parse Server** - خادم قاعدة البيانات
- **MongoDB** - قاعدة البيانات الأساسية

## 🚀 التثبيت السريع

### 1. متطلبات النظام:
```bash
PHP >= 8.1
Composer
Node.js >= 18.x
حساب Back4App نشط
```

### 2. تحميل المشروع:
```bash
git clone https://github.com/your-username/b4a-user-management.git
cd b4a-user-management
composer install
```

### 3. إعداد متغيرات البيئة:
```bash
cp .env.example .env
```

ثم حدث ملف `.env` بمفاتيح Back4App:
```env
PARSE_APP_ID=your_application_id
PARSE_REST_KEY=your_rest_api_key
PARSE_MASTER_KEY=your_master_key
PARSE_SERVER_URL=https://parseapi.back4app.com
```

### 4. تشغيل النظام:
```bash
php artisan key:generate
php artisan config:clear
php artisan serve
```

### 5. الوصول:
- **الرابط**: http://localhost:8000
- **تسجيل الدخول**: /login
- **لوحة التحكم**: /admin/dashboard

## 📁 هيكل المشروع

```
b4a-user-management/
├── app/
│   ├── Http/Controllers/
│   │   ├── Admin/
│   │   │   └── UserController.php          # تحكم في المستخدمين
│   │   └── Auth/
│   │       └── LoginController.php         # تحكم في تسجيل الدخول
│   ├── Models/
│   │   └── ParseUser.php                   # نموذج المستخدم
│   └── Providers/
│       ├── AppServiceProvider.php          # مزود الخدمات الرئيسي
│       └── ParseUserProvider.php           # مزود مصادقة Parse
├── resources/views/
│   ├── layouts/
│   │   └── admin.blade.php                 # تخطيط لوحة التحكم
│   ├── admin/
│   │   ├── dashboard.blade.php             # لوحة التحكم الرئيسية
│   │   └── users/
│   │       ├── index.blade.php             # قائمة المستخدمين
│   │       ├── show.blade.php              # تفاصيل المستخدم
│   │       ├── create.blade.php            # إضافة مستخدم
│   │       ├── edit.blade.php              # تعديل مستخدم
│   │       ├── statistics.blade.php       # الإحصائيات
│   │       └── bulk-actions.blade.php     # العمليات المجمعة
│   └── auth/
│       └── login.blade.php                 # صفحة تسجيل الدخول
├── routes/
│   └── web.php                             # مسارات الويب
├── config/
│   └── auth.php                            # إعدادات المصادقة
└── bootstrap/
    └── app.php                             # إعدادات التطبيق
```

## 🔧 إعداد Back4App

### 1. إنشاء تطبيق جديد:
1. سجل دخولك إلى [Back4App](https://www.back4app.com/)
2. أنشئ تطبيق جديد
3. احصل على مفاتيح API من Settings > App Keys

### 2. إعداد فئة المستخدم:
في Back4App Dashboard، أضف الحقول التالية لفئة `_User`:
- `role` (String) - للأدوار (admin/user)
- `fullName` (String) - الاسم الكامل
- `avatar` (File) - الصورة الشخصية
- `cover` (File) - صورة الغلاف
- `bio` (String) - النبذة الشخصية
- `country` (String) - البلد
- `city` (String) - المدينة
- `gender` (String) - الجنس
- `age` (Number) - العمر
- `coins` (Number) - العملات
- `diamonds` (Number) - الماس
- `userPoints` (Number) - النقاط
- `isVip` (Boolean) - حالة VIP
- `normalVip` (Boolean) - VIP عادي
- `superVip` (Boolean) - VIP سوبر
- `diamondVip` (Boolean) - VIP ماسي
- `accountHidden` (Boolean) - حساب مخفي
- `emailVerified` (Boolean) - بريد مؤكد

### 3. إنشاء مستخدم admin:
```javascript
// في Back4App Cloud Code أو Console
var user = new Parse.User();
user.set("username", "admin");
user.set("password", "Password123!");
user.set("email", "admin@example.com");
user.set("role", "admin");
user.set("fullName", "المدير العام");
user.signUp();
```

## 🎯 الميزات المتقدمة

### 1. نظام البحث الذكي:
- بحث في متعدد الحقول
- فلترة حسب معايير متعددة
- ترقيم ذكي مع عدد نتائج قابل للتخصيص

### 2. إدارة الصور:
- رفع صور متعددة (شخصية وغلاف)
- معاينة فورية قبل الرفع
- تحقق من حجم ونوع الملف
- ضغط تلقائي للصور

### 3. العمليات المجمعة المتقدمة:
- اختيار مستخدمين بمعايير مختلفة
- معاينة شاملة قبل التنفيذ
- تتبع التقدم في الوقت الفعلي
- تقارير مفصلة للنتائج

### 4. الإحصائيات التفاعلية:
- رسوم بيانية قابلة للتخصيص
- تحديث البيانات في الوقت الفعلي
- تصدير بصيغ متعددة
- مقارنات زمنية

## 🔒 الأمان

### ميزات الأمان المدمجة:
- **تشفير كلمات المرور** عبر Back4App
- **حماية CSRF** في جميع النماذج
- **التحقق من الأدوار** في كل طلب
- **تنظيف البيانات** قبل المعالجة
- **حماية من SQL Injection** (Parse تتولى ذلك)
- **جلسات آمنة** مع انتهاء صلاحية

### أفضل الممارسات:
- استخدام Master Key للعمليات الحساسة فقط
- التحقق من صحة البيانات في الخادم والعميل
- تسجيل العمليات المهمة
- إخفاء المعلومات الحساسة في الواجهة

## 📈 الأداء

### تحسينات الأداء:
- **تحميل البيانات بالصفحات** (Pagination)
- **فهرسة البحث** في Back4App
- **ضغط الصور** تلقائياً
- **تخزين مؤقت للإحصائيات**
- **تحميل البيانات عند الطلب** (Lazy Loading)

## 🤝 المساهمة

نرحب بمساهماتكم! يمكنكم:
- الإبلاغ عن الأخطاء
- اقتراح ميزات جديدة
- تحسين الكود الموجود
- إضافة وثائق أفضل

### خطوات المساهمة:
1. Fork المشروع
2. إنشاء فرع للميزة الجديدة
3. تطبيق التغييرات مع الاختبارات
4. إرسال Pull Request

## 📄 الترخيص

هذا المشروع مرخص تحت [رخصة MIT](LICENSE). يمكنكم:
- استخدام المشروع تجارياً
- تعديل الكود حسب احتياجاتكم
- توزيع المشروع مع التعديلات
- بيع المشروع أو الحلول المبنية عليه

## 🙏 شكر وتقدير

شكر خاص لـ:
- **Laravel Team** - لإطار العمل الرائع
- **Parse Community** - للـ SDK المتميز
- **Back4App** - للخدمة السحابية الموثوقة
- **Bootstrap Team** - لإطار التصميم
- **Chart.js Team** - للرسوم البيانية التفاعلية

---

**تم تطوير هذا المشروع بعناية فائقة ليكون حلاً شاملاً ومتقدماً لإدارة المستخدمين. نتمنى أن يكون مفيداً لمشاريعكم! 🚀**

